<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Animated Films for Listening Practice</title>
  <link href="https://fonts.googleapis.com/css2?family=Comic+Neue&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style2.css">
</head>

<body>
  <div class="background-decor"></div>
  <header class="dynamic-island">
    <h1>Animated Films for Listening Practice</h1>
    <a href="index.html" class="main-button">Main Page</a>
  </header>

  <div class="container">
    <div class="video-block">
      <h2>BBC Bitesize: Different Polygons</h2>
      <iframe width="560" height="315" src="https://www.youtube.com/embed/ahJESQ0VIiQ?si=TYdCXu4rmrMq-WKD"
        title="YouTube video player" frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
      <div class="paragraph-task">
        <p>
          This short animated video introduces children to different types of polygons. The characters, shaped as
          various polygons, attend a party and explain their properties such as the number of sides and angles in a fun
          and visual way.</p>
      </div>

      <div class="task-section">
        <p>1. True / False</p>
        <div class="statement">All the characters in the video are polygon shapes.
          <label><input type="checkbox"> True</label>
          <label><input type="checkbox"> False</label>
        </div>
        <div class="statement">A circle is introduced as a polygon.
          <label><input type="checkbox"> True</label>
          <label><input type="checkbox"> False</label>
        </div>
        <div class="statement">The triangle character has three sides.
          <label><input type="checkbox"> True</label>
          <label><input type="checkbox"> False</label>
        </div>
        <div class="statement">Polygons must have curved sides.
          <label><input type="checkbox"> True</label>
          <label><input type="checkbox"> False</label>
        </div>
        <div class="statement">The video helps learners identify basic shapes.
          <label><input type="checkbox"> True</label>
          <label><input type="checkbox"> False</label>
        </div>
      </div>

      <div class="task-section">
        <p>2. Answer the Questions</p>
        <label>1. What is a polygon?<br><input type="text" onkeydown="lockInput(event, this)"></label>
        <label>2. How many sides does a triangle have?<br><input type="text" onkeydown="lockInput(event, this)"></label>
        <label>3. What is the main setting of the video?<br><input type="text"
            onkeydown="lockInput(event, this)"></label>
        <label>4. Which shape has four sides in the video?<br><input type="text"
            onkeydown="lockInput(event, this)"></label>
        <label>5. Why is a circle not considered a polygon?<br><input type="text"
            onkeydown="lockInput(event, this)"></label>
      </div>

      <div class="task-section">
        <p>3. Matching Task</p>
        <table>
          <thead>
            <tr>
              <th>A (Shapes)</th>
              <th>B (Select Match)</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>1. Triangle</td>
              <td>
                <select>
                  <option value="">Select...</option>
                  <option>A. Not a polygon</option>
                  <option>B. Has three sides</option>
                  <option>C. Has five sides</option>
                  <option>D. Has four sides and right angles</option>
                  <option>E. A closed shape with straight sides</option>
                </select>
              </td>
            </tr>
            <tr>
              <td>2. Rectangle</td>
              <td>
                <select>
                  <option value="">Select...</option>
                  <option>A. Not a polygon</option>
                  <option>B. Has three sides</option>
                  <option>C. Has five sides</option>
                  <option>D. Has four sides and right angles</option>
                  <option>E. A closed shape with straight sides</option>
                </select>
              </td>
            </tr>
            <tr>
              <td>3. Pentagon</td>
              <td>
                <select>
                  <option value="">Select...</option>
                  <option>A. Not a polygon</option>
                  <option>B. Has three sides</option>
                  <option>C. Has five sides</option>
                  <option>D. Has four sides and right angles</option>
                  <option>E. A closed shape with straight sides</option>
                </select>
              </td>
            </tr>
            <tr>
              <td>4. Polygon</td>
              <td>
                <select>
                  <option value="">Select...</option>
                  <option>A. Not a polygon</option>
                  <option>B. Has three sides</option>
                  <option>C. Has five sides</option>
                  <option>D. Has four sides and right angles</option>
                  <option>E. A closed shape with straight sides</option>
                </select>
              </td>
            </tr>
            <tr>
              <td>5. Circle</td>
              <td>
                <select>
                  <option value="">Select...</option>
                  <option>A. Not a polygon</option>
                  <option>B. Has three sides</option>
                  <option>C. Has five sides</option>
                  <option>D. Has four sides and right angles</option>
                  <option>E. A closed shape with straight sides</option>
                </select>
              </td>
            </tr>
          </tbody>
        </table>
      </div>


      <button class="check-button" onclick="checkAnswers()">Check Answers</button>
      <div id="score" class="score"></div>
    </div>
  </div>

  <footer>
    <p>© 2025 Listening Through Animation – Designed for English Lessons</p>
  </footer>

  <script>
    // Чекбоксы ведут себя как радиокнопки
    document.querySelectorAll('.statement').forEach(statement => {
      const checkboxes = statement.querySelectorAll('input[type="checkbox"]');
      checkboxes.forEach(chk => {
        chk.addEventListener('change', () => {
          checkboxes.forEach(box => {
            if (box !== chk) box.checked = false;
          });
        });
      });
    });

    function lockInput(event, input) {
      if (event.key === 'Enter') {
        event.preventDefault();
        input.setAttribute('readonly', true);
      }
    }

    function checkAnswers() {
      let score = 0;
      const total = 14;

      // === TRUE/FALSE ===
      const trueFalseAnswers = [true, false, false, true, false];
      const trueFalseSection = document.querySelectorAll('.task-section')[0];
      trueFalseSection.querySelectorAll('.statement').forEach((statement, i) => {
        const checkboxes = statement.querySelectorAll('input[type="checkbox"]');
        const isTrueChecked = checkboxes[0].checked;
        const correct = isTrueChecked === trueFalseAnswers[i];
        statement.classList.remove('correct', 'incorrect');
        statement.classList.add(correct ? 'correct' : 'incorrect');
        if (correct) score++;
      });

      const expectedAnswers = [
        'Judy Hopps, Nick Wilde, Flash',
        'A sloth',
        'To get license info',
        'Very slowly',
        'Frustrated, because everything is too slow'
      ];

      const normalize = str => str
        .toLowerCase()
        .replace(/[.,;!?]/g, '')  // убираем знаки препинания
        .trim();

      const questionSection = document.querySelectorAll('.task-section')[1];

      questionSection.querySelectorAll('input[type="text"]').forEach((input, i) => {
        const userAnswer = normalize(input.value);
        const expectedAnswer = normalize(expectedAnswers[i]);
        const correct = userAnswer.includes(expectedAnswer); // или: userAnswer === expectedAnswer
        input.classList.remove('correct', 'incorrect');
        input.classList.add(correct ? 'correct' : 'incorrect');
        if (correct) score++;
      });



      // === MATCHING TASK ===
      const correctMatches = [
        'C. A rabbit police officer in a hurry',
        'A. Makes a joke to test Flash’s reaction',
        'B. A sloth who types very slowly',
        'D. A place where animals register vehicles'
      ];
      const matchSection = document.querySelectorAll('.task-section')[2];
      matchSection.querySelectorAll('select').forEach((select, i) => {
        const correct = select.value === correctMatches[i];
        select.classList.remove('correct', 'incorrect');
        select.classList.add(correct ? 'correct' : 'incorrect');
        if (correct) score++;
      });

      // === DISPLAY RESULT ===
      document.getElementById('score').textContent = `Your score: ${score} / ${total}`;
    }
  </script>


</body>

</html>