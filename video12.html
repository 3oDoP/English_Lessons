<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Animated Films for Listening Practice</title>
  <link href="https://fonts.googleapis.com/css2?family=Comic+Neue&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style2.css">
</head>

<body>
  <div class="background-decor"></div>
  <header class="dynamic-island">
    <h1>Animated Films for Listening Practice</h1>
    <a href="index.html" class="main-button">Main Page</a>
  </header>

  <div class="container">
    <div class="video-block">
      <h2>What's the Big Idea?</h2>
      <iframe width="560" height="315" src="https://www.youtube.com/embed/z1vKCnFabRQ?si=NPJu4kAt8cYGSurI"
        title="YouTube video player" frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
      <div class="paragraph-task">
        <p>Short Description:
          In this episode of What's the Big Idea?, Hugo explores the concept of obedience. He asks questions like “Why
          do we have to do what we're told?” and “Is it always right to obey?”. Through simple examples and animations,
          the episode introduces children to critical thinking about rules and authority.</p>
      </div>

      <div class="task-section">
        <p>1. True / False</p>
        <div class="statement">Hugo talks about why it’s important to obey.
          <label><input type="checkbox"> True</label>
          <label><input type="checkbox"> False</label>
        </div>
        <div class="statement">The episode only talks about school rules.
          <label><input type="checkbox"> True</label>
          <label><input type="checkbox"> False</label>
        </div>
        <div class="statement">Hugo questions whether obedience is always good.
          <label><input type="checkbox"> True</label>
          <label><input type="checkbox"> False</label>
        </div>
        <div class="statement">The animation shows real people.
          <label><input type="checkbox"> True</label>
          <label><input type="checkbox"> False</label>
        </div>
        <div class="statement">Hugo never disagrees with anyone.
          <label><input type="checkbox"> True</label>
          <label><input type="checkbox"> False</label>
        </div>
      </div>

      <div class="task-section">
        <p>2. Answer the Questions</p>
        <label>1. What is the main question Hugo explores in this episode?<br><input type="text"
            onkeydown="lockInput(event, this)"></label>
        <label>2. Why do some people choose not to obey?<br><input type="text"
            onkeydown="lockInput(event, this)"></label>
        <label>3. What examples does Hugo use to explain obedience?<br><input type="text"
            onkeydown="lockInput(event, this)"></label>
        <label>4. How does Hugo feel about always following rules?<br><input type="text"
            onkeydown="lockInput(event, this)"></label>
        <label>5. What lesson can children learn from this episode?<br><input type="text"
            onkeydown="lockInput(event, this)"></label>
      </div>

      <div class="task-section">
        <p>3. Matching Task</p>
        <table>
          <thead>
            <tr>
              <th>A (Words)</th>
              <th>B (Select Match)</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>1. Hugo</td>
              <td>
                <select>
                  <option value="">Select...</option>
                  <option>A. Things we are expected to follow</option>
                  <option>B. The main character</option>
                  <option>C. The act of following instructions</option>
                  <option>D. Helps understand complex ideas</option>
                  <option>E. Used by Hugo to explore ideas</option>
                </select>
              </td>
            </tr>
            <tr>
              <td>2. Obedience</td>
              <td>
                <select>
                  <option value="">Select...</option>
                  <option>A. Things we are expected to follow</option>
                  <option>B. The main character</option>
                  <option>C. The act of following instructions</option>
                  <option>D. Helps understand complex ideas</option>
                  <option>E. Used by Hugo to explore ideas</option>
                </select>
              </td>
            </tr>
            <tr>
              <td>3. Rules</td>
              <td>
                <select>
                  <option value="">Select...</option>
                  <option>A. Things we are expected to follow</option>
                  <option>B. The main character</option>
                  <option>C. The act of following instructions</option>
                  <option>D. Helps understand complex ideas</option>
                  <option>E. Used by Hugo to explore ideas</option>
                </select>
              </td>
            </tr>
            <tr>
              <td>4. Questions</td>
              <td>
                <select>
                  <option value="">Select...</option>
                  <option>A. Things we are expected to follow</option>
                  <option>B. The main character</option>
                  <option>C. The act of following instructions</option>
                  <option>D. Helps understand complex ideas</option>
                  <option>E. Used by Hugo to explore ideas</option>
                </select>
              </td>
            </tr>
            <tr>
              <td>5. Thinking</td>
              <td>
                <select>
                  <option value="">Select...</option>
                  <option>A. Things we are expected to follow</option>
                  <option>B. The main character</option>
                  <option>C. The act of following instructions</option>
                  <option>D. Helps understand complex ideas</option>
                  <option>E. Used by Hugo to explore ideas</option>
                </select>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <button class="check-button" onclick="checkAnswers()">Check Answers</button>
      <div id="score" class="score"></div>
    </div>
  </div>

  <footer>
    <p>© 2025 Listening Through Animation – Designed for English Lessons</p>
  </footer>

  <script>
    // Чекбоксы ведут себя как радиокнопки
    document.querySelectorAll('.statement').forEach(statement => {
      const checkboxes = statement.querySelectorAll('input[type="checkbox"]');
      checkboxes.forEach(chk => {
        chk.addEventListener('change', () => {
          checkboxes.forEach(box => {
            if (box !== chk) box.checked = false;
          });
        });
      });
    });

    function lockInput(event, input) {
      if (event.key === 'Enter') {
        event.preventDefault();
        input.setAttribute('readonly', true);
      }
    }

    function checkAnswers() {
      let score = 0;
      const total = 14;

      // === TRUE/FALSE ===
      const trueFalseAnswers = [true, false, true, false, false];
      const trueFalseSection = document.querySelectorAll('.task-section')[0];
      trueFalseSection.querySelectorAll('.statement').forEach((statement, i) => {
        const checkboxes = statement.querySelectorAll('input[type="checkbox"]');
        const isTrueChecked = checkboxes[0].checked;
        const correct = isTrueChecked === trueFalseAnswers[i];
        statement.classList.remove('correct', 'incorrect');
        statement.classList.add(correct ? 'correct' : 'incorrect');
        if (correct) score++;
      });

      const expectedAnswers = [
        'What is obedience?',
        'Because they think a rule is unfair or they want to do something else',
        'Simon says, crossing the road with a parent, following school rules',
        'He thinks it’s important to follow rules but also to think for yourself',
        'To understand when to follow rules and when to question them'
      ];

      const normalize = str => str
        .toLowerCase()
        .replace(/[.,;!?]/g, '')  // убираем знаки препинания
        .trim();

      const questionSection = document.querySelectorAll('.task-section')[1];

      questionSection.querySelectorAll('input[type="text"]').forEach((input, i) => {
        const userAnswer = normalize(input.value);
        const expectedAnswer = normalize(expectedAnswers[i]);
        const correct = userAnswer.includes(expectedAnswer); // или: userAnswer === expectedAnswer
        input.classList.remove('correct', 'incorrect');
        input.classList.add(correct ? 'correct' : 'incorrect');
        if (correct) score++;
      });



      // === MATCHING TASK ===
      const correctMatches = [
        'B. The main character',
        'C. The act of following instructions',
        'A. Things we are expected to follow',
        'E. Used by Hugo to explore ideas',
        'D. Helps understand complex ideas'
      ];
      const matchSection = document.querySelectorAll('.task-section')[2];
      matchSection.querySelectorAll('select').forEach((select, i) => {
        const correct = select.value === correctMatches[i];
        select.classList.remove('correct', 'incorrect');
        select.classList.add(correct ? 'correct' : 'incorrect');
        if (correct) score++;
      });

      // === DISPLAY RESULT ===
      document.getElementById('score').textContent = `Your score: ${score} / ${total}`;
    }
  </script>


</body>

</html>