<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Animated Films for Listening Practice</title>
  <link href="https://fonts.googleapis.com/css2?family=Comic+Neue&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style2.css">
</head>
<body>
<div class="background-decor"></div>
<header class="dynamic-island">
  <h1>Animated Films for Listening Practice</h1>
  <a href="index.html" class="main-button">Main Page</a>
</header>

<div class="container">
  <div class="video-block">
    <h2>Elsa & Anna's Snow Scenes | Frozen</h2>
 <iframe width="560" height="315" src="https://www.youtube.com/embed/WKaIjiGrpfY?si=9mnmbwg51ern0dzR" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
    <div class="paragraph-task">
      <p>Frozen is a magical animated film that tells the story of two royal sisters, Elsa and Anna, in the kingdom of Arendelle. Elsa has the power to create ice and snow, but when she accidentally reveals her abilities, she isolates herself from the world. Her sister Anna goes on a brave journey to find Elsa and save their kingdom from eternal winter. The film explores themes of love, courage, and the bond between sisters.</p>
    </div>

    <div class="task-section">
      <p>1. True / False</p>
      <div class="statement">Elsa has the magical power to create snow and ice.
        <label><input type="checkbox"> True</label>
        <label><input type="checkbox"> False</label>
      </div>
      <div class="statement">Anna is scared of Elsa’s powers from the beginning.
        <label><input type="checkbox"> True</label>
        <label><input type="checkbox"> False</label>
      </div>
      <div class="statement">The girls play together in the ballroom using Elsa’s magic.
        <label><input type="checkbox"> True</label>
        <label><input type="checkbox"> False</label>
      </div>
      <div class="statement">Elsa accidentally hurts herself while playing.
        <label><input type="checkbox"> True</label>
        <label><input type="checkbox"> False</label>
      </div>
      <div class="statement">The scene is quiet and sad from the very beginning.
        <label><input type="checkbox"> True</label>
        <label><input type="checkbox"> False</label>
      </div>
    </div>

    <div class="task-section">
      <p>2. Answer the Questions</p>
      <label>1. What magical power does Elsa have?<br><input type="text" onkeydown="lockInput(event, this)"></label>
      <label>2. How does Anna react to Elsa’s magic?  <br><input type="text" onkeydown="lockInput(event, this)"></label>
      <label>3. Where do Elsa and Anna play in the castle?<br><input type="text" onkeydown="lockInput(event, this)"></label>
      <label>4. What happens when Elsa accidentally loses control of her magic?<br><input type="text" onkeydown="lockInput(event, this)"></label>
      <label>5. How does the atmosphere change after the accident?<br><input type="text" onkeydown="lockInput(event, this)"></label>
    </div>

    <div class="task-section">
      <p>3. Matching Task</p>
      <table>
        <thead>
          <tr><th>A (Words)</th><th>B (Select Match)</th></tr>
        </thead>
        <tbody>
          <tr>
            <td>1. Elsa</td>
            <td>
              <select>
                <option value="">Select...</option>
                <option>A. Magical frozen crystals</option>
                <option>B. Power to create snow and ice</option>
                <option>C. Elsa’s younger sister</option>
                <option>D. A large room in a castle</option>
                <option>E. The older sister with ice powers</option>
                <option>F. A special ability or supernatural power</option>
              </select>
            </td>
          </tr>
          <tr>
            <td>2. Anna</td>
            <td>
              <select>
                <option value="">Select...</option>
                <option>A. Magical frozen crystals</option>
                <option>B. Power to create snow and ice</option>
                <option>C. Elsa’s younger sister</option>
                <option>D. A large room in a castle</option>
                <option>E. The older sister with ice powers</option>
                <option>F. A special ability or supernatural power</option>
              </select>
            </td>
          </tr>
          <tr>
            <td>3. Ice</td>
            <td>
              <select>
                <option value="">Select...</option>
                <option>A. Magical frozen crystals</option>
                <option>B. Power to create snow and ice</option>
                <option>C. Elsa’s younger sister</option>
                <option>D. A large room in a castle</option>
                <option>E. The older sister with ice powers</option>
                <option>F. A special ability or supernatural power</option>
              </select>
            </td>
          </tr>
          <tr>
            <td>4. Magic</td>
            <td>
              <select>
                <option value="">Select...</option>
                <option>A. Magical frozen crystals</option>
                <option>B. Power to create snow and ice</option>
                <option>C. Elsa’s younger sister</option>
                <option>D. A large room in a castle</option>
                <option>E. The older sister with ice powers</option>
                <option>F. A special ability or supernatural power</option>
              </select>
            </td>
          </tr>
          <tr>
            <td>5. Ballroom</td>
            <td>
              <select>
                <option value="">Select...</option>
                <option>A. Magical frozen crystals</option>
                <option>B. Power to create snow and ice</option>
                <option>C. Elsa’s younger sister</option>
                <option>D. A large room in a castle</option>
                <option>E. The older sister with ice powers</option>
                <option>F. A special ability or supernatural power</option>
              </select>
            </td>
          </tr>
          <tr>
            <td>6. Snowflakes</td>
            <td>
              <select>
                <option value="">Select...</option>
                <option>A. Magical frozen crystals</option>
                <option>B. Power to create snow and ice</option>
                <option>C. Elsa’s younger sister</option>
                <option>D. A large room in a castle</option>
                <option>E. The older sister with ice powers</option>
                <option>F. A special ability or supernatural power</option>
              </select>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <button class="check-button" onclick="checkAnswers()">Check Answers</button>
    <div id="score" class="score"></div>
  </div>
</div>

<footer>
  <p>© 2025 Listening Through Animation – Designed for English Lessons</p>
</footer>

<script>
  // Чекбоксы ведут себя как радиокнопки
  document.querySelectorAll('.statement').forEach(statement => {
    const checkboxes = statement.querySelectorAll('input[type="checkbox"]');
    checkboxes.forEach(chk => {
      chk.addEventListener('change', () => {
        checkboxes.forEach(box => {
          if (box !== chk) box.checked = false;
        });
      });
    });
  });

  function lockInput(event, input) {
    if (event.key === 'Enter') {
      event.preventDefault();
      input.setAttribute('readonly', true);
    }
  }

  function checkAnswers() {
    let score = 0;
    const total = 16;

    // === TRUE/FALSE ===
    const trueFalseAnswers = [true, false, true, false, false];
    const trueFalseSection = document.querySelectorAll('.task-section')[0];
    trueFalseSection.querySelectorAll('.statement').forEach((statement, i) => {
      const checkboxes = statement.querySelectorAll('input[type="checkbox"]');
      const isTrueChecked = checkboxes[0].checked;
      const correct = isTrueChecked === trueFalseAnswers[i];
      statement.classList.remove('correct', 'incorrect');
      statement.classList.add(correct ? 'correct' : 'incorrect');
      if (correct) score++;
    });

const expectedAnswers = [
  'She can create snow and ice',
  'She is excited and enjoys playing with it',
  'In the ballroom',
  'She hits Anna with her ice magic and injures her',
  'It becomes serious and sad; the parents separate the sisters'
];

const normalize = str => str
  .toLowerCase()
  .replace(/[.,;!?]/g, '')  // убираем знаки препинания
  .trim();

const questionSection = document.querySelectorAll('.task-section')[1];

questionSection.querySelectorAll('input[type="text"]').forEach((input, i) => {
  const userAnswer = normalize(input.value);
  const expectedAnswer = normalize(expectedAnswers[i]);
  const correct = userAnswer.includes(expectedAnswer); // или: userAnswer === expectedAnswer
  input.classList.remove('correct', 'incorrect');
  input.classList.add(correct ? 'correct' : 'incorrect');
  if (correct) score++;
});



    // === MATCHING TASK ===
    const correctMatches = [
      'E. The older sister with ice powers',
      'C. Elsa’s younger sister',
      'A. Magical frozen crystals',
      'F. A special ability or supernatural power',
      'D. A large room in a castle',
      'A. Magical frozen crystals'
    ];
    const matchSection = document.querySelectorAll('.task-section')[2];
    matchSection.querySelectorAll('select').forEach((select, i) => {
      const correct = select.value === correctMatches[i];
      select.classList.remove('correct', 'incorrect');
      select.classList.add(correct ? 'correct' : 'incorrect');
      if (correct) score++;
    });

    // === DISPLAY RESULT ===
    document.getElementById('score').textContent = `Your score: ${score} / ${total}`;
  }
</script>


</body>
</html>
