<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Animated Films for Listening Practice</title>
  <link href="https://fonts.googleapis.com/css2?family=Comic+Neue&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style2.css">
</head>
<body>
<div class="background-decor"></div>
<header class="dynamic-island">
  <h1>Animated Films for Listening Practice</h1>
  <a href="index.html" class="main-button">Main Page</a>
</header>

<div class="container">
  <div class="video-block">
    <h2>Coco | Miguel Discovers The Truth About Héctor And Ernesto</h2>
   <iframe width="560" height="315" src="https://www.youtube.com/embed/jrMKoGeagRU?si=kq75C0YIR0hBm9Zk" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
    <div class="paragraph-task">
      <p>In this pivotal scene from Coco (2017), Miguel uncovers the heartbreaking truth about his great-great-grandfather, Héctor, and the famous musician Ernesto de la Cruz. Miguel learns that Ernesto, who had long been hailed as a hero, was actually responsible for Héctor’s death and stole his songs. This discovery forces Miguel to confront the lies of his idol and reconnect with his true family heritage.</p>
    </div>

    <div class="task-section">
      <p>1. True / False</p>
      <div class="statement">Miguel learns that Héctor is actually his great-great-grandfather.  
        <label><input type="checkbox"> True</label>
        <label><input type="checkbox"> False</label>
      </div>
      <div class="statement">Ernesto de la Cruz is revealed to be a kind and honest man.  
        <label><input type="checkbox"> True</label>
        <label><input type="checkbox"> False</label>
      </div>
      <div class="statement">Héctor only wanted to return to the Land of the Living to become famous.  
        <label><input type="checkbox"> True</label>
        <label><input type="checkbox"> False</label>
      </div>
      <div class="statement">Ernesto poisoned Héctor to steal his songs and take credit for them.  
        <label><input type="checkbox"> True</label>
        <label><input type="checkbox"> False</label>
      </div>
      <div class="statement">Miguel is shocked and heartbroken when he learns the truth.
        <label><input type="checkbox"> True</label>
        <label><input type="checkbox"> False</label>
      </div>
    </div>

    <div class="task-section">
      <p>2. Answer the Questions</p>
      <label>1. What important truth does Miguel discover about Héctor?<br><input type="text" onkeydown="lockInput(event, this)"></label>
      <label>2. How did Ernesto de la Cruz become famous?<br><input type="text" onkeydown="lockInput(event, this)"></label>
      <label>3. What was Héctor’s true intention for returning to the Land of the Living?<br><input type="text" onkeydown="lockInput(event, this)"></label>
      <label>4. How does Miguel feel after finding out the truth about Ernesto?<br><input type="text" onkeydown="lockInput(event, this)"></label>
      <label>5. Why is this scene a turning point in the story?<br><input type="text" onkeydown="lockInput(event, this)"></label>
    </div>

    <div class="task-section">
      <p>3. Matching Task</p>
      <table>
        <thead>
          <tr><th>A (Words)</th><th>B (Select Match)</th></tr>
        </thead>
        <tbody>
          <tr>
            <td>1. _ Héctor</td> 
            <td>
              <select>
                <option value="">Select...</option>
                <option>A. He poisoned Héctor to steal his songs and fame</option>
                <option>B. Miguel learns the truth about his great-great-grandfather</option>
                <option>C. Miguel is shocked and heartbroken when he finds out the truth</option>
                <option>D. Written by Héctor, but credited to Ernesto</option>
                <option>E. Miguel’s great-great-grandfather who was forgotten in the Land of the Dead</option>
              </select>
            </td>
          </tr>
          <tr>
            <td>2. _ Ernesto de la Cruz</td>
            <td>
              <select>
                <option value="">Select...</option>
                <option>A. He poisoned Héctor to steal his songs and fame</option>
                <option>B. Miguel learns the truth about his great-great-grandfather</option>
                <option>C. Miguel is shocked and heartbroken when he finds out the truth</option>
                <option>D. Written by Héctor, but credited to Ernesto</option>
                <option>E. Miguel’s great-great-grandfather who was forgotten in the Land of the Dead</option>
              </select>
            </td>
          </tr>
          <tr>
            <td>3. _ Miguel's Discovery</td>
            <td>
              <select>
                <option value="">Select...</option>
                <option>A. He poisoned Héctor to steal his songs and fame</option>
                <option>B. Miguel learns the truth about his great-great-grandfather</option>
                <option>C. Miguel is shocked and heartbroken when he finds out the truth</option>
                <option>D. Written by Héctor, but credited to Ernesto</option>
                <option>E. Miguel’s great-great-grandfather who was forgotten in the Land of the Dead</option>
              </select>
            </td>
          </tr>
          <tr>
            <td>4. _ Héctor’s Song</td>
            <td>
              <select>
                <option value="">Select...</option>
                <option>A. He poisoned Héctor to steal his songs and fame</option>
                <option>B. Miguel learns the truth about his great-great-grandfather</option>
                <option>C. Miguel is shocked and heartbroken when he finds out the truth</option>
                <option>D. Written by Héctor, but credited to Ernesto</option>
                <option>E. Miguel’s great-great-grandfather who was forgotten in the Land of the Dead</option>
              </select>
            </td>
          </tr>
          <tr>
            <td>5. _ Miguel’s Reaction</td>
            <td>
              <select>
                <option value="">Select...</option>
                <option>A. He poisoned Héctor to steal his songs and fame</option>
                <option>B. Miguel learns the truth about his great-great-grandfather</option>
                <option>C. Miguel is shocked and heartbroken when he finds out the truth</option>
                <option>D. Written by Héctor, but credited to Ernesto</option>
                <option>E. Miguel’s great-great-grandfather who was forgotten in the Land of the Dead</option>
              </select>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <button class="check-button" onclick="checkAnswers()">Check Answers</button>
    <div id="score" class="score"></div>
  </div>
</div>

<footer>
  <p>© 2025 Listening Through Animation – Designed for English Lessons</p>
</footer>

<script>
  // Чекбоксы ведут себя как радиокнопки
  document.querySelectorAll('.statement').forEach(statement => {
    const checkboxes = statement.querySelectorAll('input[type="checkbox"]');
    checkboxes.forEach(chk => {
      chk.addEventListener('change', () => {
        checkboxes.forEach(box => {
          if (box !== chk) box.checked = false;
        });
      });
    });
  });

  function lockInput(event, input) {
    if (event.key === 'Enter') {
      event.preventDefault();
      input.setAttribute('readonly', true);
    }
  }

  function checkAnswers() {
    let score = 0;
    const total = 15;

    // === TRUE/FALSE ===
    const trueFalseAnswers = [true, false, false, true, true];
    const trueFalseSection = document.querySelectorAll('.task-section')[0];
    trueFalseSection.querySelectorAll('.statement').forEach((statement, i) => {
      const checkboxes = statement.querySelectorAll('input[type="checkbox"]');
      const isTrueChecked = checkboxes[0].checked;
      const correct = isTrueChecked === trueFalseAnswers[i];
      statement.classList.remove('correct', 'incorrect');
      statement.classList.add(correct ? 'correct' : 'incorrect');
      if (correct) score++;
    });

const expectedAnswers = [
  'Hector is his real great-great-grandfather',
  'By stealing Hector’s songs',
  'To visit his daughter',
  'Shocked and sad',
  'It changes everything Miguel believed'
];

const normalize = str => str
  .toLowerCase()
  .replace(/[.,;!?]/g, '')  // убираем знаки препинания
  .trim();

const questionSection = document.querySelectorAll('.task-section')[1];

questionSection.querySelectorAll('input[type="text"]').forEach((input, i) => {
  const userAnswer = normalize(input.value);
  const expectedAnswer = normalize(expectedAnswers[i]);
  const correct = userAnswer.includes(expectedAnswer); // или: userAnswer === expectedAnswer
  input.classList.remove('correct', 'incorrect');
  input.classList.add(correct ? 'correct' : 'incorrect');
  if (correct) score++;
});



    // === MATCHING TASK ===
    const correctMatches = [
      'E. Miguel’s great-great-grandfather who was forgotten in the Land of the Dead',
      'A. He poisoned Héctor to steal his songs and fame',
      'B. Miguel learns the truth about his great-great-grandfather',
      'D. Written by Héctor, but credited to Ernesto',
      'C. Miguel is shocked and heartbroken when he finds out the truth'
    ];
    const matchSection = document.querySelectorAll('.task-section')[2];
    matchSection.querySelectorAll('select').forEach((select, i) => {
      const correct = select.value === correctMatches[i];
      select.classList.remove('correct', 'incorrect');
      select.classList.add(correct ? 'correct' : 'incorrect');
      if (correct) score++;
    });

    // === DISPLAY RESULT ===
    document.getElementById('score').textContent = `Your score: ${score} / ${total}`;
  }
</script>


</body>
</html>
